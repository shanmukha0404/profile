{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sparkles = void 0;\n\nvar __1 = require(\"..\");\n\nvar components_1 = require(\"../components\");\n\nvar modules_1 = require(\"../systems/modules\");\n\nvar random = require(\"../systems/random\");\n\nvar sources = require(\"../systems/sources\");\n\nvar variation = require(\"../systems/variation\");\n\nvar util = require(\"../util\");\n/**\r\n * The standard sparkles template.\r\n *\r\n * @param source The source to emit the sparkles from.\r\n * @param options The (optional) configuration overrides.\r\n */\n\n\nfunction sparkles(source, options) {\n  var populated = util.overrideDefaults({\n    lifetime: variation.range(1, 2),\n    count: variation.range(10, 20),\n    speed: variation.range(100, 200),\n    size: variation.range(0.8, 1.8),\n    rotation: function () {\n      return new components_1.Vector(0, 0, random.randomRange(0, 360));\n    },\n    color: function () {\n      return components_1.Color.fromHsl(50, 100, random.randomRange(55, 85));\n    },\n    modules: [new modules_1.ModuleBuilder().drive(\"rotation\").by(function (t) {\n      return new components_1.Vector(0, 0, 200).scale(t);\n    }).relative().build(), new modules_1.ModuleBuilder().drive(\"size\").by(new components_1.NumericSpline({\n      time: 0,\n      value: 0\n    }, {\n      time: 0.3,\n      value: 1\n    }, {\n      time: 0.7,\n      value: 1\n    }, {\n      time: 1,\n      value: 0\n    })).through(\"relativeLifetime\").relative().build(), new modules_1.ModuleBuilder().drive(\"opacity\").by(new components_1.NumericSpline({\n      time: 0,\n      value: 1\n    }, {\n      time: 0.5,\n      value: 1\n    }, {\n      time: 1,\n      value: 0\n    })).through(\"relativeLifetime\").build()],\n    shapes: \"star\"\n  }, options);\n\n  var emitter = __1.scene.current.createEmitter({\n    emitterOptions: {\n      loops: 1,\n      duration: 3,\n      useGravity: false,\n      modules: populated.modules\n    },\n    emissionOptions: {\n      rate: 0,\n      bursts: [{\n        time: 0,\n        count: populated.count\n      }],\n      sourceSampler: sources.dynamicSource(source),\n      angle: variation.range(0, 360),\n      initialLifetime: populated.lifetime,\n      initialSpeed: populated.speed,\n      initialSize: populated.size,\n      initialRotation: populated.rotation,\n      initialColor: populated.color\n    },\n    rendererOptions: {\n      applyLighting: undefined,\n      shapeFactory: populated.shapes\n    }\n  });\n\n  return emitter;\n}\n\nexports.sparkles = sparkles;","map":null,"metadata":{},"sourceType":"script"}